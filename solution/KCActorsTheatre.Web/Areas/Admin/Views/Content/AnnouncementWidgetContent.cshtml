@using Clickfarm.AppFramework.Extensions;
@using Clickfarm.Cms.Configuration
@using Clickfarm.Cms.Core
@using Clickfarm.Cms.Mvc
@using KCActorsTheatre.Cms.ContentTypes
@model Clickfarm.Cms.Admin.Mvc.Areas.Admin.ViewModels.ContentGroupMemberViewModel
@{ 
    
    AnnouncementWidgetContent content = (AnnouncementWidgetContent)Model.Content;
    ContentTypeConfigData config = Model.ContentTypeConfigData;

    var fileDocProps = ContentProperties.Empty;
    if (config.Properties.ContainsKey("FileDocumentContentProperties"))
    {
        fileDocProps = config.Properties["FileDocumentContentProperties"];
    }

    var fileImgProps = ContentProperties.Empty;
    if (config.Properties.ContainsKey("FileImageContentProperties"))
    {
        fileImgProps = config.Properties["FileImageContentProperties"];
    }

    string target = null;
    if (content.Target != null)
    {
        HyperlinkContent.LinkTargets.TryGetPropertyValue<string>(content.Target, out target);
    }
}
<label>Title:</label>
<span style="font-style: italic">Maximum length is 50 characters.</span>
<div class="display-field editable-format editable nullable" data-property-name="AnnouncementWidgetTitle">@content.WidgetTitle</div>

<label>Link Text:</label>
<div class="display-field editable-format editable nullable" data-property-name="LinkText">@content.LinkText</div>

<label>Link Target:</label>
<div class="display-field editable-format editable-select editable-select-target" data-editable-select-model="target" data-editable-select-data="@HyperlinkContent.LinkTargetsJson" data-property-name="Target">@target</div>

<label>Link URL:</label>
<div class="display-field editable-format editable-hyperlink nullable" data-content-file-properties="@fileDocProps.ToJson()" data-property-name="LinkUrl">@content.LinkUrl</div>

@Html.Partial("_TaggedWidgetTagManager", content)